
<div class="next-consultation">
    <div class="patient-section">
        <div class="patient-details" *ngIf="patientDetails">
            <p>age: {{patientDetails.patientAge}}</p>
            <p>mob: {{patientDetails.patientMobile}}</p>
            <p>Last Visited on: {{ patientDetails.lastVisited | date:'dd MMM yyyy' }}</p>
            <span class="history"><a href="#"><p>history (in progress..)</p></a></span>
        </div>
        <div class="time-slot" *ngIf="patientDetails"> 
            <h4>appointment slot :{{ patientDetails.timeSlot}}</h4>
            <h4> patient Name: {{patientDetails.patientName}} </h4>
        </div>
        <div class="patient-receipt">
            <img [src]="imageUrl" alt="Receipt Image" (click)="toggleModal()">
        </div>
    </div> 
    <div  class="forward-appointment">
        <button mat-button color="primary" (click)="onPreviousClick()" *ngIf="patientIndex > 0">Previous Consultaion</button>
        <button mat-button color="primary" (click)="onNextClick()" *ngIf="hasMorePatients()">Next Consultaion</button>
    </div>
</div>

<div class="all-consultation">
  <table class="table table-striped">
    <thead>
      <tr>
        <th *ngFor="let thData of consulationTableHeader">{{ thData }}</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let trData of getVisibleItems(); let i = index">
        <tr>
          <th scope="row">{{ (currentPage - 1) * itemsPerPage + i + 1 }}</th>
          <td>{{ trData.patientName }}</td>
          <td>{{ trData.timeSlot }}</td>
          <td>{{ trData.patientAge }}</td>
          <td>{{ trData.patientMobile }}</td>
          <td>{{ trData.lastVisited | date:'dd MMM yyyy' }}</td>
          <td>{{ trData.city }}</td>
        </tr>
      </ng-container>
    </tbody>
  </table>

  <div class="pagination-controls">
    <button mat-icon-button (click)="previousPage()" [disabled]="currentPage === 1">
      <mat-icon>chevron_left</mat-icon>
    </button>
    <span>Page {{ currentPage }}</span>
    <button mat-icon-button (click)="nextPage()" [disabled]="currentPage === totalPages()">
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>
</div>

<div class="modal" *ngIf="showModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" (click)="toggleModal()">&times;</span>
        </div>
        <div class="modal-body">
          <img [src]="imageUrl" alt="Receipt Image">
        </div>
      </div>
    </div>
</div>
